## Билет 2:

### 1.  Семантическая модель Entity-Relationship, E/R-диаграммы:
1 пункт (см. выше) находится в 8 лекции на [гугл диске препода по БД](https://drive.google.com/drive/folders/1sNQ3zOgOHoRsxtyAijtcMkTTgkGm3yc8).
#### При построении ER-модели используются следующие принципы: 
 1) сущности на диаграмме представляются прямоугольниками;
 2) каждый прямоугольник может иметь различные визуальные 
  атрибуты; 
 3) каждой сущности должно быть присвоено уникальное имя; 
 4)имена сущностей необходимо задавать в единственном числе; 
 5) связи на диаграмме представляются линиями, идущими от одной 
 сущности (таблицы) к другой; 
 6) каждой связи присваивается уникальное имя; 
 7) связанные таблицы разделяют на родительские и дочерние;
 8) родительские таблицы отображаются прямоугольниками с прямыми 
углами, дочерние – со скругленными

### 2.  Синхронизационные блокировки:
2 пункт (см. выше) находится в 13 лекции на [гугл диске препода по БД](https://drive.google.com/drive/folders/1sNQ3zOgOHoRsxtyAijtcMkTTgkGm3yc8)

#### Чем являются синхр. блокировки:
Синхронизационные блокировки являются одним из двух подходов к сериализации транзакций.

#### Описание подхода:
(TwoPhase Locking Protocol)(2PL) Подход состоит в том, что перед выполнением любой операции в транзакции T над объектом базы данных Q от имени транзакции T запрашивается синхронизационная блокировка объекта Q в соответствующем режиме

#### Режимы блокировок:
- S (Shared) - совместный режим, означающий совместную (по чтению) блокировку объекта. Такая блокировка требуется для операции чтения объекта.
- X (eXclusive) - монопольный режим, означающий монопольную (по записи) блокировку объекта. Требуется для выполнения операций вставки, удаления и модификации объекта.

#### Двухфазный протокол (2PL):



#### Определения:
  1) Транзакция - это последовательность операций над БД, рассматриваемых СУБД как единое целое: либо все операции внутри транзакции выполняются, либо ни одна не выполняется. Транзакция в SQL – это несколько последовательных инструкций SQL, которые вместе образуют логическую единицу работы (unit of work).
  2) ACID - Atomic (атомарность) Consistent (целостность) Isolation (изолированность) Durability (долговечность) 
  3) Атомарность - результаты всех операций, успешно выполненных в пределах транзакции, должны быть отражены в состоянии базы данных, либо в состоянии базы данных не должно быть отражено действие ни одной операции. **Иногда называют "Все или ничего"**.
##### Все или ничего:
1) При успешном завершении транзакции оператором COMMIT
	- результаты гарантированно фиксируются во внешней памяти
	- смысл термина commit состоит в запросе «фиксации» результатов транзакции
1) При завершении транзакции оператором ROLLBACK 
	- результаты гарантированно отсутствуют во внешней памяти
	- смысл термина rollback состоит в запросе ликвидации результатов транзакции

##### Согласованность:
- Означает, что транзакция может быть успешно завершена с фиксацией результатов своих операций только в том случае, когда действия операций не нарушают целостность базы данных, т.е. удовлетворяют набору ограничений целостности, определенных для этой базы данных. 
- Это свойство расширяется тем, что во время выполнения транзакции разрешается устанавливать точки согласованности и явным образом проверять ограничения целостности. 

##### Изоляция:
- Требуется, чтобы две одновременно выполняемые транзакции никаким образом не действовали одна на другую. 
- Результаты выполнения операций транзакции T1 не должны быть видны никакой другой транзакции T2 до тех пор, пока транзакция T1 не завершится успешным образом.

##### Долговечность:
- После успешного завершения транзакции, все изменения, которые были внесены в состояние базы данных операциями этой транзакции, должны гарантированно сохраняться, даже в случае сбоев аппаратуры или программного обеспечения.

